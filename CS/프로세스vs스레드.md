<img src="https://user-images.githubusercontent.com/97859770/187688087-63f78e53-b18f-4757-be09-9ac666b852f4.png" width="70%">


## 프로그램 vs 프로세스

### 프로그램
디스크에 저장되어있는 일련의 명령어들의 집합
=> 실행 중이지 않은(동작 x) 정적인 객체
<br><br>


### 프로세스
프로그램이 메모리(DRAM) 에 적재되어 실행 중인 프로그램이 프로세스
<br><br>
-운영체제로부터 시스템 자원을 할당받는 작업의 단위

-프로세스는 각각 Code, Data, Stack, Heap의 구조로 되어 있는 독립된 메모리 영역을 할당받음

-각 프로세스는 별도의 주소 공간에서 실행되고 프로세스끼리는 자원을 공유하지 않음(접근 X)

-한 프로세스가 다른 프로세스의 자원에 접근하려면 프로세스 간의 통신(IPC, inter-process communication) 필요

Ex. 파이프, 파일, 소켓 등을 이용한 통신 방법 이용

<br>


## 프로세스 vs 스레드
![image](https://user-images.githubusercontent.com/97859770/187688460-46fb0ea8-54bf-4fc3-8c15-99caea8917ac.png)

### 스레드
- 프로세스 내에서 실행되는 여러 흐름의 단위
-컨텍스트 스위칭이 일어날 때 캐싱 적중률이 올라감
=다 빼고 다시 다 넣을 필요가 없다는 뜻

-스레드는 프로세스 내에서 Stack만 따로 할당받고 Code, Data, Heap 영역은 공유

-하나의 프로세스가 생성되면 하나의 스레드(메인 스레드)가 생성됨


-하나의 프로세스는 여러 개의 스레드를 가질 수 있음
<br><br>

### Context Switching이란?
<img src="https://user-images.githubusercontent.com/97859770/187688629-a479bd38-a8a2-4a7f-9c5b-b66d270f1280.png" width="60%">
동시 작업이 이루어진다 = 실제로 동시에 일어나는 것이 아니라 굉장히 빠르게 전환되는 것을 의미한다. 


## 멀티 프로세스 vs 멀티 스레드
- 멀티 프로세스 : 하나의 응용 프로그램을 여러 개의 프로세스로 구성하여 각 프로세스가 하나의 작업을 처리하도록 하는 것


- 멀티 스레드 : 하나의 프로그램 안에서 여러 작업을 해결하는 것

<br><br>


## 왜 멀티 스레드를 사용할까?

<br>

1. 자원의 효율성 증대
2. 처리 비용 감소
3. 응답 시간 단축

<br>

프로세스 생성 시 자원을 할당하는 시스템 콜이 줄어들어 자원 소모가 적고 자원을 효율적으로 관리할 수 있다. 

또한 프로세스의 경우 Context Switching 시 CPU 레지스터, RAM과 CPU 사이의 캐시 메모리가 초기화되기 때문에 오버헤드가 큰 반면, 스레드는 Context Switching시 Stack영역만 처리하면 되므로 스레드 간의 문맥 교환 속도가 빠르다. 

그리고 프로세스의 경우 프로세스 간의 통신을 위해서는 IPC를 통해서 통신을 해야 하지만, 스레드의 경우 스레드 간의 자원 공유가 간단하기 때문에 시스템 자원 소모가 작다.



<br><br>

### ❗️❗️ 동기화 문제 주의

전역 변수를 통해 스레드 간의 자원을 공유하기 때문에 함께 상용할 때 충돌이 발생할 수 있다. <br>
이러한 문제를 방지하기 위해
 
1. 스레드들에게 하나의 자원에 대한 처리 권한을 주거나 
2. 순서를 조정하는 기법을 사용합니다 (동기화 시킨다).

<br><br>

참고<br>
https://gmlwjd9405.github.io/2018/09/14/process-vs-thread.html <br>
https://cocoon1787.tistory.com/688
